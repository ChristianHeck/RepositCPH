<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>ArrayDeCuentas2</title>
    <script src="../clases/js/Cuenta.js" charset="utf-8"></script>
    <script src="../clases/js/CajaDeAhorro.js" charset="utf-8"></script>
    <script src="../clases/js/CuentaCorriente.js" charset="utf-8"></script>
  </head>
  <body>
    <h1>Array de Cuentas 2 - Practica 4</h1>
    <p>Recorriendo array de cuentas 2: </p>
    <script type="text/javascript">
      var linebreak = "<br />";

      let cuentas = new Array(new CajaDeAhorro(6,100,22),
                              new CajaDeAhorro(1,100,10),
                              new CuentaCorriente(2,2000,1000),
                              new CajaDeAhorro(3,150,2.3),
                              new CuentaCorriente(4,2500,3000),
                              new CuentaCorriente(5,2700,2500)   );

        cuentas.forEach((item, i) => {
          document.write(`<br/><br/> Cuenta [${i}]
                          ${item}`);
        });

        document.write("<br/><br/><br/> - Todas las cuentas que tienen un saldo menor a 2500:<br/>");
        document.write("---------------------------------------------<br/>");
        cuentas.filter(cuentas => cuentas.saldo < 2500).forEach((item, i) => {
          document.write(`<br/><br/> Cuenta [${i}]
                          ${item}`);
        });

        document.write("<br/><br/><br/> - Cuentas que tienen un saldo mayor a 2400 al restar 100:<br/>");
        document.write("---------------------------------------------------------------------<br/>");
        cuentas.filter(cuentas => {
                                cuentas.debitar(100);
                                return cuentas.saldo > 2400})
            .forEach((item, i) => {
                                document.write(`<br/><br/> Cuenta [${i}]
                                ${item}`);
        });

        document.write("<br/><br/><br/> - Cuentas al restar 500:<br/>");
        document.write("------------------------<br/>");
        cuentas.forEach((item, i) => {
                                      item.debitar(500);
                                      document.write(`<br/><br/> Cuenta [${i}]
                                        ${item}`);
        });

        document.write("<br/><br/><br/> - Cuentas que acreditan 5000 si tiene saldo menor a 1500:<br/>");
        document.write("----------------------------------------------------------<br/>");
        cuentas.filter(cuentas => cuentas.saldo < 1500)
            .forEach((item, i) => {
                                item.acreditar(5000);
                                document.write(`<br/><br/> Cuenta [${i}]
                                ${item}`);
        });
        var totalSaldo = 0;
        document.write("<br/><br/><br/> - Cuentas actuales y suma total de saldo:<br/>");
        document.write("---------------------------------<br/>");
        cuentas.forEach((item, i) => {
                                      totalSaldo += item.saldo;
                                      document.write(`<br/><br/> Cuenta [${i}]
                                        ${item}`);
        });
        document.write(linebreak);
        document.write("---------------------------------<br/>")
        document.write("<br/>Saldo total: " + totalSaldo);
        document.write(linebreak);
        document.write("---------------------------------<br/>")
    </script>
  </body>
</html>
